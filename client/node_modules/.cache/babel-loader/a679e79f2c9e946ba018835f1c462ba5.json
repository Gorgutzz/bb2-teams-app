{"ast":null,"code":"import _regeneratorRuntime from\"/home/leo/Documents/Learn.co/bb2-teams-app/client/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/home/leo/Documents/Learn.co/bb2-teams-app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/leo/Documents/Learn.co/bb2-teams-app/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/leo/Documents/Learn.co/bb2-teams-app/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/leo/Documents/Learn.co/bb2-teams-app/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/leo/Documents/Learn.co/bb2-teams-app/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{connect}from'react-redux';import{fetchStarPlayers as _fetchStarPlayers,fetchTeams as _fetchTeams}from\".././actions/dataActions\";import Row from\"react-bootstrap/Row\";import Dropdown from\"react-bootstrap/Dropdown\";import Container from\"react-bootstrap/Container\";var StarPlayerFilter=/*#__PURE__*/function(_Component){_inherits(StarPlayerFilter,_Component);function StarPlayerFilter(){var _this;_classCallCheck(this,StarPlayerFilter);_this=_possibleConstructorReturn(this,_getPrototypeOf(StarPlayerFilter).call(this));_this.handleTeamSelection=function(e){e.preventDefault();var title=e.target.title;_this.props.setTeam(title);_this.props.fetchStarPlayers(title);_this.setState({currentTeam:e.target.dataset.team});};_this.state={data:[],currentTeam:'Select Team'};return _this;}_createClass(StarPlayerFilter,[{key:\"fetchButtonTeams\",value:function fetchButtonTeams(){var response,json;return _regeneratorRuntime.async(function fetchButtonTeams$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(fetch(\"/api/teams\"));case 2:response=_context.sent;_context.next=5;return _regeneratorRuntime.awrap(response.json());case 5:json=_context.sent;this.setState({data:json});case 7:case\"end\":return _context.stop();}}},null,this);}},{key:\"componentDidMount\",value:function componentDidMount(){this.fetchButtonTeams();}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(Container,null,React.createElement(Row,null,React.createElement(Dropdown,{id:\"dropdown-star-player-button\",title:this.props.team},React.createElement(Dropdown.Toggle,{id:\"dropdown-button\"},this.state.currentTeam),React.createElement(Dropdown.Menu,null,this.state.data.map(function(team){return React.createElement(\"div\",{key:team},React.createElement(Dropdown.Item,{onClick:_this2.handleTeamSelection,title:team.id,\"data-team\":team.name},team.name));})))));}}]);return StarPlayerFilter;}(Component);var mapStateToProps=function mapStateToProps(state){return{team:state.star_players.team};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{fetchStarPlayers:function fetchStarPlayers(params){return dispatch(_fetchStarPlayers(params));},fetchTeams:function fetchTeams(params){return dispatch(_fetchTeams(params));},setTeam:function setTeam(team){return dispatch({type:\"SET_TEAM\",team:team});}};};export default connect(mapStateToProps,mapDispatchToProps)(StarPlayerFilter);","map":{"version":3,"sources":["/home/leo/Documents/Learn.co/bb2-teams-app/client/src/components/StarPlayerFilter.js"],"names":["React","Component","connect","fetchStarPlayers","fetchTeams","Row","Dropdown","Container","StarPlayerFilter","handleTeamSelection","e","preventDefault","title","target","props","setTeam","setState","currentTeam","dataset","team","state","data","fetch","response","json","fetchButtonTeams","map","id","name","mapStateToProps","star_players","mapDispatchToProps","dispatch","params","type"],"mappings":"6xBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,gBAAgB,GAAhBA,CAAAA,iBAAT,CAA2BC,UAAU,GAAVA,CAAAA,WAA3B,KAA6C,0BAA7C,CAEA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,CACA,MAAOC,CAAAA,QAAP,KAAqB,0BAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,2BAAtB,C,GAEMC,CAAAA,gB,0EACJ,2BAAc,kDACV,oFADU,MAeZC,mBAfY,CAeU,SAAAC,CAAC,CAAI,CACvBA,CAAC,CAACC,cAAF,GADuB,GAELC,CAAAA,KAFK,CAEMF,CAFN,CAEfG,MAFe,CAELD,KAFK,CAGvB,MAAKE,KAAL,CAAWC,OAAX,CAAmBH,KAAnB,EACA,MAAKE,KAAL,CAAWX,gBAAX,CAA4BS,KAA5B,EACA,MAAKI,QAAL,CAAc,CAAEC,WAAW,CAAEP,CAAC,CAACG,MAAF,CAASK,OAAT,CAAiBC,IAAhC,CAAd,EACH,CArBW,CAEV,MAAKC,KAAL,CAAa,CAAEC,IAAI,CAAE,EAAR,CAAYJ,WAAW,CAAE,aAAzB,CAAb,CAFU,aAGX,C,sRAGwBK,KAAK,c,SAAtBC,Q,gEACaA,QAAQ,CAACC,IAAT,E,SAAbA,I,eACN,KAAKR,QAAL,CAAc,CAAEK,IAAI,CAAEG,IAAR,CAAd,E,qHAGiB,CACjB,KAAKC,gBAAL,GACD,C,uCAUQ,iBACL,MACI,qBAAC,SAAD,MACI,oBAAC,GAAD,MACI,oBAAC,QAAD,EAAU,EAAE,CAAC,6BAAb,CAA2C,KAAK,CAAE,KAAKX,KAAL,CAAWK,IAA7D,EACE,oBAAC,QAAD,CAAU,MAAV,EAAiB,EAAE,CAAC,iBAApB,EACG,KAAKC,KAAL,CAAWH,WADd,CADF,CAIE,oBAAC,QAAD,CAAU,IAAV,MACK,KAAKG,KAAL,CAAWC,IAAX,CAAgBK,GAAhB,CAAoB,SAAAP,IAAI,QACvB,4BAAK,GAAG,CAAEA,IAAV,EACI,oBAAC,QAAD,CAAU,IAAV,EAAe,OAAO,CAAE,MAAI,CAACV,mBAA7B,CAAkD,KAAK,CAAEU,IAAI,CAACQ,EAA9D,CAAkE,YAAWR,IAAI,CAACS,IAAlF,EAAyFT,IAAI,CAACS,IAA9F,CADJ,CADuB,EAAxB,CADL,CAJF,CADJ,CADJ,CADJ,CAkBH,C,8BA3C0B3B,S,EA8C/B,GAAM4B,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAT,KAAK,CAAI,CAC7B,MAAO,CACHD,IAAI,CAAEC,KAAK,CAACU,YAAN,CAAmBX,IADtB,CAAP,CAGH,CAJD,CAMA,GAAMY,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,CAAI,CACnC,MAAO,CACH7B,gBAAgB,CAAE,0BAAA8B,MAAM,QAAID,CAAAA,QAAQ,CAAC7B,iBAAgB,CAAC8B,MAAD,CAAjB,CAAZ,EADrB,CAEH7B,UAAU,CAAE,oBAAA6B,MAAM,QAAID,CAAAA,QAAQ,CAAC5B,WAAU,CAAC6B,MAAD,CAAX,CAAZ,EAFf,CAGHlB,OAAO,CAAE,iBAAAI,IAAI,QAAIa,CAAAA,QAAQ,CAAC,CAAEE,IAAI,CAAE,UAAR,CAAoBf,IAAI,CAAJA,IAApB,CAAD,CAAZ,EAHV,CAAP,CAKH,CAND,CAQA,cAAejB,CAAAA,OAAO,CAAC2B,eAAD,CAAkBE,kBAAlB,CAAP,CAA6CvB,gBAA7C,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchStarPlayers, fetchTeams } from \".././actions/dataActions\";\n\nimport Row from \"react-bootstrap/Row\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport Container from \"react-bootstrap/Container\";\n\nclass StarPlayerFilter extends Component {\n  constructor() {\n      super();\n      this.state = { data: [], currentTeam: 'Select Team' };\n    }\n\n    async fetchButtonTeams() {\n      const response = await fetch(`/api/teams`);\n      const json = await response.json();\n      this.setState({ data: json });\n    }\n\n    componentDidMount(){\n      this.fetchButtonTeams()\n    }\n\n    handleTeamSelection = e => {\n        e.preventDefault();\n        const { target: { title }} = e;\n        this.props.setTeam(title);\n        this.props.fetchStarPlayers(title);\n        this.setState({ currentTeam: e.target.dataset.team });\n    };\n\n    render() {\n        return (\n            <Container>\n                <Row>\n                    <Dropdown id=\"dropdown-star-player-button\" title={this.props.team}>\n                      <Dropdown.Toggle id=\"dropdown-button\">\n                        {this.state.currentTeam}\n                      </Dropdown.Toggle>\n                      <Dropdown.Menu>\n                          {this.state.data.map(team => (\n                            <div key={team}>\n                                <Dropdown.Item onClick={this.handleTeamSelection} title={team.id} data-team={team.name}>{team.name}</Dropdown.Item>\n                            </div>\n                        ))}\n                      </Dropdown.Menu>\n                    </Dropdown>\n                </Row>\n            </Container>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        team: state.star_players.team\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        fetchStarPlayers: params => dispatch(fetchStarPlayers(params)),\n        fetchTeams: params => dispatch(fetchTeams(params)),\n        setTeam: team => dispatch({ type: \"SET_TEAM\", team })\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StarPlayerFilter)\n"]},"metadata":{},"sourceType":"module"}